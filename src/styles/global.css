@import 'open-props/style';
@import 'open-props/normalize';
@import './tokens.css';

:root {
  color-scheme: light;
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-top: env(safe-area-inset-top, 0px);
}

html {
  height: 100%;
  scroll-behavior: smooth;
}
body {
  min-height: 100%;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    Segoe UI,
    Roboto,
    Ubuntu,
    Cantarell,
    Noto Sans,
    'Helvetica Neue',
    Arial,
    'Apple Color Emoji',
    'Segoe UI Emoji';
  color: var(--text);
  background: var(--bg);
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
}

*::selection {
  background: color-mix(in oklab, var(--brand) 30%, white);
}

a {
  color: var(--brand);
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
}
/* Linki w DARK: nieco jaśniejsze */
:root[data-theme='dark'] a {
  color: color-mix(in oklab, var(--brand) 85%, white);
}

:where(a, button, input, select, textarea, [tabindex], [role='button']) {
  outline: none;
}
:where(a, button, input, select, textarea, [tabindex], [role='button']):focus-visible {
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand) 70%, white);
  border-radius: 12px;
}

/* Typografia (clampy mobilne) */
h1 {
  font-size: clamp(1.875rem, 3.5vw + 1rem, 3.5rem);
  line-height: 1.15;
}
h2 {
  font-size: clamp(1.5rem, 2.1vw + 1rem, 2.25rem);
  line-height: 1.2;
}
.lead {
  font-size: clamp(1.05rem, 1.2vw + 0.8rem, 1.35rem);
  line-height: 1.6;
  color: var(--gray-9);
}

/* Gradient nagłówków (HERO) */
.title-gradient {
  background: linear-gradient(90deg, var(--indigo-7), var(--violet-7));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}
/* W DARK – jaśniejsze odcienie, żeby było czytelniej */
:root[data-theme='dark'] .title-gradient {
  background: linear-gradient(90deg, var(--indigo-4), var(--violet-4));
}

/* Drawer + overlay (animacje) */
.mobile-nav.overlay {
  opacity: 0;
  transition: opacity 220ms var(--ease-3);
}
.mobile-nav.overlay.open {
  opacity: 1;
}
.mobile-nav.drawer {
  transform: translateX(100%);
  transition: transform 240ms var(--ease-3);
}
.mobile-nav.drawer.open {
  transform: translateX(0);
}

/* Scroll-reveal */
[data-reveal] {
  opacity: 0;
  transform: translate3d(0, 18px, 0);
  transition:
    opacity 500ms var(--ease-3),
    transform 500ms var(--ease-3);
  will-change: opacity, transform;
}
[data-reveal].is-visible {
  opacity: 1;
  transform: none;
}
[data-reveal='left'] {
  transform: translate3d(-18px, 0, 0);
}
[data-reveal='right'] {
  transform: translate3d(18px, 0, 0);
}
[data-reveal][data-delay='1'] {
  transition-delay: 80ms;
}
[data-reveal][data-delay='2'] {
  transition-delay: 140ms;
}
[data-reveal][data-delay='3'] {
  transition-delay: 200ms;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
  [data-reveal] {
    opacity: 1 !important;
    transform: none !important;
    transition: none !important;
  }
  .mobile-nav.overlay,
  .mobile-nav.drawer {
    transition: none !important;
  }
}

/* Sticky mobile CTA */
.mobile-cta-safe {
  padding-bottom: calc(0.5rem + var(--safe-bottom));
}

/* Prose: lepszy scroll do nagłówków */
.prose :where(h1, h2, h3, h4) {
  scroll-margin-top: 6rem;
}
